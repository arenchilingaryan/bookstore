(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{38:function(e,t,a){e.exports=a(72)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},51:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),s=(a(43),a(44),a(45),a(10)),i=a(6);var u=Object(i.b)((function(e){return{basket:e.basket}}))((function(e){return Object(n.useEffect)((function(){console.log("privet")}),[]),r.a.createElement("header",{className:"header"},r.a.createElement(s.b,{to:"/",style:{textDecoration:"none",background:"white"}},r.a.createElement("div",{className:"headName"},"BOOK STORE")),r.a.createElement(s.b,{to:"/basket",style:{textDecoration:"none"}},r.a.createElement("div",{className:"basketHeader"},r.a.createElement("div",null," ",e.basket.data.length?e.basket.totalCount:0," $"),r.a.createElement("div",null,r.a.createElement("img",{src:"http://cdn.onlinewebfonts.com/svg/download_156067.png",alt:"sorry :'("})))))})),l=a(34),d=a(35),p=a(37),m=a(36),g=(a(51),a(4)),f=a.n(g),b=[],E={data:[],loading:!0},h=function(e){return{type:"SET_PRODUCTS",data:e}},v=function(e){return{type:"SET_LOADING",setLoad:e}},O=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).directChange=function(t){switch(t.target.id){case"js":return e.props.setLoading(!0),f.a.get("https://store-16405.firebaseio.com/js/-M57zgVEMyvOop9Bq0JT.json").then((function(t){e.props.setProducts(t.data)})).then(e.props.setLoading(!1)).then(console.log(e.props.loading));case"vue":return e.props.setLoading(!0),f.a.get("https://store-16405.firebaseio.com/vue/-M580Z8KZtdhkIjNrvnU.json").then((function(t){e.props.setProducts(t.data)})).then(e.props.setLoading(!1));case"react":return e.props.setLoading(!0),f.a.get("https://store-16405.firebaseio.com/react/-M57sq-jr2tCXdiYLaia.json").then((function(t){e.props.setProducts(t.data)})).then(e.props.setLoading(!1));case"angular":return f.a.get("https://store-16405.firebaseio.com/angular/-M580Ba0SMniDTOQCRU5.json").then((function(t){e.props.setProducts(t.data)})).then(e.props.setLoading(!1));case"css":return e.props.setLoading(!0),f.a.get("https://store-16405.firebaseio.com/css/-M58EvUHfyKiDJLXIXr6.json").then((function(t){e.props.setProducts(t.data)})).then(e.props.setLoading(!1));case"html":return f.a.get("https://store-16405.firebaseio.com/html/-M58GpCitB5fC1UncHrp.json").then((function(t){e.props.setProducts(t.data)})).then(e.props.setLoading(!1));case"SQL":return f.a.get("https://store-16405.firebaseio.com/SQL/-M58JTcZCBvfHIyqOKQ7.json").then((function(t){e.props.setProducts(t.data)})).then(e.props.setLoading(!1));case"mongoDB":return f.a.get("https://store-16405.firebaseio.com/mongoDB/-M58Ia-tvF1v1ulmMJ3Z.json").then((function(t){e.props.setProducts(t.data)})).then(e.props.setLoading(!1))}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("https://store-16405.firebaseio.com/catalog/-M5C2IRjZU8AAtR-GGiY.json").then((function(t){return e.props.setCatalog(t.data)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("ul",{className:"catalog"},this.props.catalog.map((function(t){return r.a.createElement("li",{id:t.id,onClick:e.directChange,key:t.id,className:"catalogItemList"},r.a.createElement("div",{id:t.id,className:"catalogItem"},r.a.createElement("img",{id:t.id,src:t.imgURL,alt:"sorry :'(",className:"catalogIcon"}),r.a.createElement("h3",{id:t.id,className:"itemName"},t.title)),t.subCatalog?t.subCatalog.map((function(e){return r.a.createElement("ul",{key:e.id,id:e.id,className:"subCatalog"},r.a.createElement("li",{id:e.id,className:"subCatalogItem"},r.a.createElement("img",{id:e.id,src:e.imgURL,alt:e.imgURL,className:"subIcon"}),r.a.createElement("div",null,r.a.createElement("strong",{className:"subItemName",id:e.id}," ",e.title," "))))})):null)})))}}]),a}(n.Component);var k=Object(i.b)((function(e){return{catalog:e.catalog,loading:e.products.loading}}),(function(e){return{setCatalog:function(t){return e(function(e){return{type:"SET_CATALOG",data:e}}(t))},setProducts:function(t){return e(h(t))},setLoading:function(t){return e(v(t))}}}))(O),j=a(21),N=(a(69),a(70),function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"loadingspinner"}))}),L=a(13),C={data:[],totalCount:0};var y=Object(i.b)((function(e){return{products:e.products.data,loading:e.products.loading}}),(function(e){return{setProducts:function(t){return e(h(t))},setLoading:function(t){return e(v(t))},addItemToBasket:function(t){return e(function(e){return{type:"ADD_BOOK",data:e}}(t))}}}))((function(e){var t=Object(n.useState)(1),a=Object(j.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(),i=Object(j.a)(s,2),u=i[0],l=i[1];Object(n.useEffect)((function(){f.a.get("https://store-16405.firebaseio.com/js/-M57zgVEMyvOop9Bq0JT.json").then((function(t){e.setProducts(t.data)})).then(e.setLoading(!1))}),[]),Object(n.useEffect)((function(){l(e.products.splice(0,12)),e.setLoading(!1),o(1)}),[e.products]);var d=function(t){u.map((function(a){a.isbn13==t.target.id&&e.addItemToBasket(a)}))},p=function(t){switch(t.target.id){case"1":var a=e.products.slice(0,13);l(a),o(1);break;case"2":var n=e.products.slice(13,25);l(n),o(2);break;case"3":var r=e.products.slice(25,37);l(r),o(3);break;case"4":var c=e.products.slice(37,49);l(c),o(4);break;case"5":var s=e.products.slice(49,61);l(s),o(5);break;case"6":var i=e.products.slice(61,73);l(i),o(6);break;case"7":var u=e.products.slice(73,85);l(u),o(7);break;case"8":var d=e.products.slice(85,97);l(d),o(8);break;case"9":var p=e.products.slice(97,109);l(p),o(9);break;case"10":var m=e.products.slice(109);l(m),o(10);break;default:return console.log("privet")}};return r.a.createElement("div",null,e.loading?r.a.createElement(N,null):r.a.createElement("div",{className:"productsPage"},r.a.createElement("div",{className:"productsPagination"},e.products.map((function(t){var a=e.products.indexOf(t);if(a%12===0)return r.a.createElement("div",{id:a/12+1,key:a/12+230,className:c===a/12+1?"btnPagination active":"btnPagination",onClick:p},a/12+1)}))),r.a.createElement("div",{className:"productsBox"},u.map((function(e){return r.a.createElement("div",{key:e.isbn13,className:"productsPage"},r.a.createElement("div",{className:"productsPagination"}),r.a.createElement("div",{className:"productsBox"},r.a.createElement("img",{src:e.image,alt:"sorry bro :'("}),r.a.createElement("h3",null," ",e.title," "),r.a.createElement("p",{className:"productPrice"}," ",e.price,"$ "),r.a.createElement("div",{className:"boxButton"},r.a.createElement("button",{id:e.isbn13,className:"productButton",onClick:d},"Add"))))})))))})),_=a(8);a(71);var P=Object(i.b)((function(e){return{basket:e.basket.data}}),(function(e){return{deleteItem:function(t,a){return e(function(e,t){return{type:"DELETE_BOOK",data:e,index:t}}(t,a))}}}))((function(e){var t=function(t){e.basket.map((function(a){if(a.isbn13==t.target.id){var n=e.basket.indexOf(a);e.deleteItem(a,n)}}))};return r.a.createElement("ul",null,e.basket.map((function(e){return r.a.createElement("li",{key:e.isbn13,className:"basketItem"},r.a.createElement("img",{src:e.image,className:"basketImg"}),r.a.createElement("span",null," ",e.title," "),r.a.createElement("span",null," ",e.price," $ "),r.a.createElement("button",{onClick:t,id:e.isbn13},"\u2718"))})))})),T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(_.a,{path:"/basket",component:P}),r.a.createElement("div",{className:"mainPage"},r.a.createElement(_.a,{path:"/",exact:!0,component:k}),r.a.createElement(_.a,{path:"/",exact:!0,component:y})))},I=a(7),D=Object(I.c)({basket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK":return{data:[].concat(Object(L.a)(e.data),[t.data]),totalCount:Math.ceil(100*(e.totalCount+t.data.price))/100};case"DELETE_BOOK":var a=Object(L.a)(e.data),n=a.slice(0,t.index),r=a.slice(t.index+1),c=[].concat(Object(L.a)(n),Object(L.a)(r));return{data:c,totalCount:Math.ceil(100*(e.totalCount-t.data.price))/100};default:return e}},catalog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CATALOG":return t.data;default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return{data:t.data,loading:!0};case"SET_LOADING":return{data:e.data,loading:t.setLoad};default:return e}}}),S=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):I.d)(Object(I.a)()),B=Object(I.e)(D,S),M=r.a.createElement(s.a,null,r.a.createElement(i.a,{store:B},r.a.createElement(T,null)));o.a.render(M,document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.d17b4abc.chunk.js.map